<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlexyTrack - Authorize Trakt</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <img src="{{ url_for('static', filename='logo.png') }}" alt="PlexyTrack Logo" class="logo">
            <h1>PlexyTrack</h1>
            <!-- No navigation links needed on the authorization page -->
        </header>

        <main class="content-area">
            <section class="authorize-section card">
                <h2><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon"><path d="M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM11 11V7H13V11H17V13H13V17H11V13H7V11H11Z"></path></svg> Trakt Authorization Required</h2>
                <p class="description">To continue, please authorize PlexyTrack to access your Trakt.tv account.</p>
                
                <div class="auth-steps">
                    <p>1. Click the link below to go to the Trakt authorization page:</p>
                    <a href="{{ auth_url }}" target="_blank" class="button primary auth-link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon"><path d="M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM12 3H19C19.5523 3 20 3.44772 20 4V11C20 11.5523 19.5523 12 19 12H12C11.4477 12 11 11.5523 11 11V4C11 3.44772 11.4477 3 12 3ZM13 5V10H18V5H13Z"></path></svg>
                        Authorize with Trakt.tv
                    </a>
                    <p>2. After authorizing, Trakt will provide you with a PIN code. Enter it below:</p>
                </div>

                <form method="post" class="auth-form">
                    <div class="form-group">
                        <label for="code">Authorization PIN Code:</label>
                        <input type="text" id="code" name="code" placeholder="Enter Trakt PIN Code" class="form-input" required>
                    </div>
                    <button type="submit" class="button secondary">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon"><path d="M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM10.6212 15.5354L12.0354 16.9496L16.9496 12.0354L15.5354 10.6212L12.0354 14.1212L9.20702 11.2928L7.79281 12.707L10.6212 15.5354Z"></path></svg>
                        Submit Code
                    </button>
                </form>
            </section>
        </main>

        <footer class="app-footer">
            <p>&copy; 2025 PlexyTrack. All rights reserved.</p>
        </footer>
    </div>
</body>
</html>
